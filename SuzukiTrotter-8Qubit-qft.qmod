qfunc main(output qba: qbit[], output expectation_value : qbit) {
  allocate(8, qba);
  allocate  (1, expectation_value);

  suzuki_trotter([
    // ZZ interactions for 8 qubits
    PauliTerm {
      pauli=[
        Pauli::Z,
        Pauli::Z,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I
      ],
      coefficient=1
    },
    PauliTerm {
      pauli=[
        Pauli::I,
        Pauli::Z,
        Pauli::Z,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I
      ],
      coefficient=1
    },
    PauliTerm {
      pauli=[
        Pauli::I,
        Pauli::I,
        Pauli::Z,
        Pauli::Z,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I
      ],
      coefficient=1
    },
    PauliTerm {
      pauli=[
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::Z,
        Pauli::Z,
        Pauli::I,
        Pauli::I,
        Pauli::I
      ],
      coefficient=1
    },
    PauliTerm {
      pauli=[
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::Z,
        Pauli::Z,
        Pauli::I,
        Pauli::I
      ],
      coefficient=1
    },
    PauliTerm {
      pauli=[
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::Z,
        Pauli::Z,
        Pauli::I
      ],
      coefficient=1
    },
    PauliTerm {
      pauli=[
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::Z,
        Pauli::Z
      ],
      coefficient=1
    },
    PauliTerm {
      pauli=[
        Pauli::Z,
        Pauli::I,
        Pauli::Z,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I
      ],
      coefficient=1
    },
    PauliTerm {
      pauli=[
        Pauli::Z,
        Pauli::I,
        Pauli::I,
        Pauli::Z,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I
      ],
      coefficient=1
    },
    PauliTerm {
      pauli=[
        Pauli::Z,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::Z,
        Pauli::I,
        Pauli::I,
        Pauli::I
      ],
      coefficient=1
    },
    PauliTerm {
      pauli=[
        Pauli::Z,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::Z,
        Pauli::I,
        Pauli::I
      ],
      coefficient=1
    },
    PauliTerm {
      pauli=[
        Pauli::Z,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::Z,
        Pauli::I
      ],
      coefficient=1
    },
    PauliTerm {
      pauli=[
        Pauli::Z,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::Z
      ],
      coefficient=1
    },
    PauliTerm {
      pauli=[
        Pauli::I,
        Pauli::Z,
        Pauli::I,
        Pauli::Z,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I
      ],
      coefficient=1
    },
    PauliTerm {
      pauli=[
        Pauli::I,
        Pauli::Z,
        Pauli::I,
        Pauli::I,
        Pauli::Z,
        Pauli::I,
        Pauli::I,
        Pauli::I
      ],
      coefficient=1
    },
    PauliTerm {
      pauli=[
        Pauli::I,
        Pauli::Z,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::Z,
        Pauli::I,
        Pauli::I
      ],
      coefficient=1
    },
    PauliTerm {
      pauli=[
        Pauli::I,
        Pauli::Z,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::Z,
        Pauli::I
      ],
      coefficient=1
    },
    PauliTerm {
      pauli=[
        Pauli::I,
        Pauli::Z,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::Z
      ],
      coefficient=1
    },
    PauliTerm {
      pauli=[
        Pauli::I,
        Pauli::I,
        Pauli::Z,
        Pauli::I,
        Pauli::Z,
        Pauli::I,
        Pauli::I,
        Pauli::I
      ],
      coefficient=1
    },
    PauliTerm {
      pauli=[
        Pauli::I,
        Pauli::I,
        Pauli::Z,
        Pauli::I,
        Pauli::I,
        Pauli::Z,
        Pauli::I,
        Pauli::I
      ],
      coefficient=1
    },
    PauliTerm {
      pauli=[
        Pauli::I,
        Pauli::I,
        Pauli::Z,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::Z,
        Pauli::I
      ],
      coefficient=1
    },
    PauliTerm {
      pauli=[
        Pauli::I,
        Pauli::I,
        Pauli::Z,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::Z
      ],
      coefficient=1
    },
    PauliTerm {
      pauli=[
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::Z,
        Pauli::I,
        Pauli::Z,
        Pauli::I,
        Pauli::I
      ],
      coefficient=1
    },
    PauliTerm {
      pauli=[
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::Z,
        Pauli::I,
        Pauli::I,
        Pauli::Z,
        Pauli::I
      ],
      coefficient=1
    },
    PauliTerm {
      pauli=[
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::Z,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::Z
      ],
      coefficient=1
    },
    PauliTerm {
      pauli=[
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::Z,
        Pauli::I,
        Pauli::Z,
        Pauli::I
      ],
      coefficient=1
    },
    PauliTerm {
      pauli=[
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::Z,
        Pauli::I,
        Pauli::I,
        Pauli::Z
      ],
      coefficient=1
    },
    PauliTerm {
      pauli=[
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::Z,
        Pauli::I,
        Pauli::Z
      ],
      coefficient=1
    },
    
     // X interactions
    PauliTerm {
      pauli=[
        Pauli::X,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I
      ],
      coefficient=0.5
    },
    PauliTerm {
      pauli=[
        Pauli::I,
        Pauli::X,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I
      ],
      coefficient=0.5
    },
    PauliTerm {
      pauli=[
        Pauli::I,
        Pauli::I,
        Pauli::X,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I
      ],
      coefficient=0.5
    },
    PauliTerm {
      pauli=[
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::X,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I
      ],
      coefficient=0.5
    },
    PauliTerm {
      pauli=[
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::X,
        Pauli::I,
        Pauli::I,
        Pauli::I
      ],
      coefficient=0.5
    },
    PauliTerm {
      pauli=[
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::X,
        Pauli::I,
        Pauli::I
      ],
      coefficient=0.5
    },
    PauliTerm {
      pauli=[
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::X,
        Pauli::I
      ],
      coefficient=0.5
    },
    PauliTerm {
      pauli=[
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::I,
        Pauli::X
      ],
      coefficient=0.5
    }
      ], 0.1, 4, 1, qba);

      within{
        H(expectation_value);
      }
      apply{
       control(expectation_value){
            qft(qba);
       }
      }
    }